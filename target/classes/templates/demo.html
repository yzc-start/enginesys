<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>工程项目</title>
    <link rel="stylesheet" type="text/css" href="/easyui/themes/default/easyui.css">
    <link rel="stylesheet" type="text/css" href="/easyui/themes/icon.css">
    <script type="text/javascript" src="/easyui/jquery.min.js"></script>
    <script type="text/javascript" src="/easyui/jquery.easyui.min.js"></script>
    <style>
        .body{
            padding: 0;
            margin: 0 0;
        }
    </style>
</head>
<body>

<table id="dg" class="easyui-datagrid" style="width:100%;height:auto"
       data-options="
                iconCls: 'icon-edit',
                singleSelect: true,
                toolbar: '#tb',
                url: 'http://localhost:8080/engine/selectEngine',
                method: 'get',
                onDblClickCell: onDblClickCell,
                onEndEdit: onEndEdit,
                fitColumns:true,
                striped:true,
                scrollOnSelect:true
            "
       pagination="true" rownumbers="true">
    <thead>
    <tr>
        <th data-options="field:'id',width:40" align="center">id</th>
        <th data-options="field:'gcmc',width:250,align:'right',editor:{type:'textbox'}" align="left">工程名称</th>
        <th data-options="field:'dz',width:250,align:'right',editor:{type:'textbox'}" align="left">地址</th>
    </tr>
    </thead>
</table>

<div id="tb" style="height:auto">
    <a href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:'icon-add',plain:true" onclick="append()">添加</a>
    <a href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:'icon-remove',plain:true" onclick="removeit()">删除</a>
    <a href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:'icon-save',plain:true" onclick="accept()">保存</a>
    <a href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:'icon-undo',plain:true" onclick="reject()">返回</a>
    <a href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:'icon-search',plain:true" onclick="getChanges()">GetChanges</a>
</div>

<script>
    var editIndex = ''
    function onDblClickCell() {
        if ($('#dg').datagrid('validateRow', editIndex)){
            $('#dg').datagrid('endEdit', editIndex);
            editIndex = undefined;
            return true;
        } else {
            return false;
        }
    }

    function onEndEdit() {
        alert(11)
    }
</script>


</body>
</html>

